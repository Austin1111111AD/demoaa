import{D as I,i as V,m as R,R as L,n as q}from"./vant-5f97787a.js";import{u as E}from"./vue-i18n-2fe8389c.js";import{m as M}from"./@vant-c8e639f3.js";import{c as W}from"./index-ce6118a3.js";import{u as X,a as Y}from"./index-95894b94.js";import{d as T,c as b,W as U,Z,A as u,Y as m,_ as e,u as A,r as y,X as F,I as i,a1 as s,L as j,i as H}from"./@vue-c5f66650.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";const K="/gif/loading-498c76ab.gif",O={class:"starting-loading"},Q=["src"],ee=T({name:"starting-loading"}),te=T({...ee,props:{show:{type:Boolean,default:!1}},setup(k){const g=k,_=b({get:()=>g.show,set:r=>r});return(r,c)=>{const h=I;return U(),Z("div",O,[u(h,{show:_.value,"onUpdate:show":c[0]||(c[0]=d=>_.value=d),showConfirmButton:!1},{default:m(()=>[e("img",{class:"max-w-[90%] mx-auto",src:A(K),alt:""},null,8,Q)]),_:1},8,["show"])])}}});const se=J(te,[["__scopeId","data-v-4faac32e"]]),oe={class:"flex flex-col p-3 box-border mt-3"},ae={class:"flex border-b-[1px] border-[#e5e7eb] pb-4"},le={class:"mr-4 rounded-[0.4rem] overflow-hidden flex justify-center items-center",style:{width:"6rem",height:"6rem"}},ne={class:"flex flex-col h-[6rem] justify-between"},ie={class:"flex flex-col"},re={class:"flex items-center pt-4 pb-4 box-border border-b-[1px] border-[#e5e7eb]"},ce={class:"w-[50%] flex flex-col border-r-[1px] border-[#e5e7eb] justify-center items-center"},de={class:"text-[#333] font-semibold"},ue={class:"text-xs text-[#999] mt-1"},me={class:"w-[50%] flex flex-col justify-center items-center"},_e={class:"text-[#333] font-semibold"},fe={class:"text-xs text-[#999] mt-1"},ve={class:"flex justify-between items-center pt-4 pb-4 box-border border-b-[1px] border-[#e5e7eb]"},xe={class:"text-[#666] text-sm"},pe={class:"flex justify-between items-center pt-4 pb-4 box-border border-b-[1px] border-[#e5e7eb]"},be={class:"whitespace-nowrap text-[#666] text-sm"},ge={class:"w-full mt-4"},he={class:"font-semibold"},Ce=T({__name:"index",emits:["reset"],setup(k,{expose:g,emit:_}){const{t:r}=E(),c=X(),h=Y(),d=b(()=>c.websiteGet),N=b(()=>c.tradingGet),[w,D]=M(),$=y(5),f=y(!1),o=y({}),n=b(()=>{var t;return(t=o.value)==null?void 0:t.evenId}),z=t=>{o.value=t,D(!0)},G=async()=>{var a,v;const t=(a=o==null?void 0:o.value)==null?void 0:a.expiredSecond;if(typeof t<"u"&&t&&Number(t)<=0){V(r("msg.status.10030050"));return}f.value=!0,setTimeout(()=>{var x;W(((x=o.value)==null?void 0:x.id)??"").then(({data:l})=>{l!=null&&l.row.id?o.value=l==null?void 0:l.row:(V(`${r("starting.TaskDialog.title")} ${r("msg.response.complete")}`),D(!1)),_("reset")}).finally(()=>{h.setAccount(),f.value=!1})},((v=N.value)==null?void 0:v.submitTaskDelay)||0)};return g({handleShow:z}),(t,a)=>{const v=R,x=L,l=q,P=I;return U(),F(P,{show:A(w),"onUpdate:show":a[2]||(a[2]=p=>H(w)?w.value=p:null),title:t.$t("starting.TaskDialog.title"),closeable:""},{title:m(()=>[e("div",{class:i(n.value?"text-main":"text-[#333]")},s(t.$t("starting.TaskDialog.title")),3)]),footer:m(()=>[]),default:m(()=>{var p,S,C;return[e("div",oe,[e("div",ae,[e("div",le,[u(v,{class:"task-img",lazy:"",src:o.value.spuPic,fit:"cover"},null,8,["src"])]),e("div",ne,[e("div",ie,[e("div",{class:i([n.value?"text-main":"text-[#333]","tex w-44 whitespace-nowrap overflow-hidden text-ellipsis text-sm font-semibold"])},s(o.value.spuTitle),3),e("div",{class:i([n.value?"text-main":"text-[#333]","text-sm font-semibold"])},s(o.value.unitPrice)+" x"+s(o.value.quantity)+" "+s((p=d.value)==null?void 0:p.currencyUnit),3)]),u(x,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=B=>$.value=B),size:"18",readonly:"",color:"rgb(255, 210, 30)"},null,8,["modelValue"])])]),e("div",re,[e("div",ce,[e("div",de,s(t.$t("starting.TaskDialog.TotalAmount")),1),e("div",ue,[e("span",{class:i([n.value?"text-main":"text-[#333]","text-sm font-semibold"])},s(o.value.amount),3),j(" "+s((S=d.value)==null?void 0:S.currencyUnit),1)])]),e("div",me,[e("div",_e,s(t.$t("starting.TaskDialog.Profit")),1),e("div",fe,[e("span",{class:i(["text-sm font-semibold",n.value?"text-main":"text-[#333]"])},s(o.value.commission),3),j(" "+s((C=d.value)==null?void 0:C.currencyUnit),1)])])]),e("div",ve,[e("div",xe,s(t.$t("starting.TaskDialog.CreatedAt")),1),e("div",{class:i(["text-sm font-bold",n.value?"text-main":"text-[#333]"])},s(o.value.createdDate),3)]),e("div",pe,[e("div",be,s(t.$t("starting.TaskDialog.TaskCode")),1),e("div",{class:i(["text-xs font-bold",n.value?"text-main":"text-[#333]"])},s(o.value.detailNo),3)]),e("div",ge,[u(l,{type:"primary",size:"large",round:"",loading:f.value,onClick:a[1]||(a[1]=B=>G())},{default:m(()=>[e("span",he,s(t.$t("system.actions.Submit")),1)]),_:1},8,["loading"])])]),u(se,{show:f.value},null,8,["show"])]}),_:1},8,["show","title"])}}});export{Ce as _};
